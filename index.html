<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Trying tooltips</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="css/project.css" rel="stylesheet"/>
</head>

<body>
  <a href="#" title="Tooltip standard">tooltip 0</a>
  <a id="tooltip_0" class="tooltip" href="#" title="Tooltip jQuery">tooltip 1</a>


  <script src="js/jquery-1.9.0.js"></script>
  <script>
    function tooltip_create_div(name) {
      div   =   "<div class='tooltip' id='tooltip_" + name + "'>" ;
      div  +=   " <p>"; 
      div  +=   $(this).attr('title');
      div  +=   " </p>"; 
      div  +=   "</div>";
      
      return div;
    }

    /****
    * target: jQuery object
    * name:   name of tooltip
    *
    */
    function simple_tooltip(targets, name) {
      targets.each( function(i, anchor ) {
        var div = tooltip_create_div.call( anchor, name + '_' + i.toString() );
        $("body").append( div );

        var my_tool = $("#tooltip_" + name + "_" + i);
        $(this).removeAttr("title");

        $(this).mouseover(function(){
				  my_tool.css({opacity:0.8, display:"none"}).fadeIn(400);
        });
        $(this).mousemove(function(kmouse){
          var obj = $( "#" + kmouse.currentTarget.id );
          var offset = obj.offset();
          var x = offset.left + obj.width(); 
          var y = offset.top + obj.height(); 
				  my_tool.css({left:x, top:y});
        }); 
        $(this).mouseout(function(){
				  my_tool.fadeOut(400);
		    });

      });
    };

    $(document).ready( function() {
      allToolTips = $('.tooltip');
      simple_tooltip( allToolTips, 'test' );
      
    });
  </script>
</body>
</html>
